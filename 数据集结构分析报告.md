## 1. 总体概览

您提供的数据集包含六个文件，可以清晰地分为三类：**用户行为日志**、**用户特征**和**视频特征**。这些数据共同构成了一个典型的推荐系统场景所需的核心数据集，记录了在特定时间段内，哪些用户与哪些视频进行了何种互动，并提供了用户和视频的详细属性。

核心关联ID为 `user_id`（用户ID）和 `video_id`（视频ID）。

- **用户行为日志**：记录了用户与视频的每一次交互行为。
- **用户特征**：描述了用户的静态属性，如活跃度、粉丝数等。
- **视频特征**：描述了视频的静态属性（如时长、作者）和动态统计属性（如累计播放量、点赞数）。

## 2. 数据集关联结构

这些数据表通过 `user_id` 和 `video_id` 相互关联，形成一个星型模型结构，其中日志表是核心的事实表，用户和视频特征表是维度表。

```

\+--------------------------+           +-----------------------------+
|   user\_features\_pure.csv |           | video\_features\_basic\_pure.csv |
|--------------------------|           |-----------------------------|
| - user\_id (Primary Key)  |           | - video\_id (Primary Key)    |
| - user\_active\_degree     |           | - author\_id                 |
| - fans\_user\_num          |           | - video\_duration            |
| - ...                    |           | - ...                       |
\+--------------------------+           +-----------------------------+
|                                       |
| 1                                     | 1
|                                       |
| \* | \*
\+-------------------------------------------------------------------------+
| log\_random\_...*pure.csv / log\_standard*...\_pure.csv (Fact Table)        |
|-------------------------------------------------------------------------|
| - user\_id (Foreign Key)                                                 |
| - video\_id (Foreign Key)                                                |
| - is\_click, is\_like, play\_time\_ms, ...                                  |
\+-------------------------------------------------------------------------+
|
| \*
|
| 1
\+---------------------------------+
| video\_features\_statistic\_pure.csv |
|---------------------------------|
| - video\_id (Primary Key)      |
| - play\_cnt, like\_cnt, ...       |
\+---------------------------------+

```

## 3. 各数据文件详解

### 3.1. 用户行为日志
这部分数据由三个文件组成，记录了不同时间段或不同推荐策略下的用户行为。

- `log_standard_4_08_to_4_21_pure.csv`: 2022年4月8日至4月21日的标准推荐日志。
- `log_standard_4_22_to_5_08_pure.csv`: 2022年4月22日至5月8日的标准推荐日志。
- `log_random_4_22_to_5_08_pure.csv`: 2022年4月22日至5月8日的随机推荐日志 (`is_rand=1`)。

**主要字段说明：**

| 字段名 | 数据类型 | 说明 |
| :--- | :--- | :--- |
| `user_id` | Integer | 用户唯一标识 |
| `video_id` | Integer | 视频唯一标识 |
| `date` | Integer | 行为发生的日期 (格式: YYYYMMDD) |
| `time_ms` | BigInt | 行为发生的毫秒级时间戳 |
| `is_click` | Integer | 是否点击（1是，0否），通常是推荐系统的主要正反馈信号 |
| `is_like` | Integer | 是否点赞 |
| `is_follow` | Integer | 是否关注视频作者 |
| `is_comment` | Integer | 是否评论 |
| `is_forward` | Integer | 是否转发 |
| `is_hate` | Integer | 是否点“不感兴趣” |
| `long_view` | Integer | 是否为长观看（通常指观看时长超过某一阈值） |
| `play_time_ms` | Integer | 视频实际播放毫秒数 |
| `duration_ms` | Integer | 视频总时长（毫秒） |
| `is_rand` | Integer | 是否为随机推送的物料（1是，0否） |

### 3.2. 用户特征数据
- `user_features_pure.csv`: 用户的静态画像数据。

**主要字段说明：**

| 字段名 | 数据类型 | 说明 |
| :--- | :--- | :--- |
| `user_id` | Integer | 用户唯一标识 |
| `user_active_degree` | String | 用户活跃度等级 (如: full_active) |
| `is_live_streamer`| Integer | 是否为直播主播 |
| `is_video_author` | Integer | 是否为视频创作者 |
| `follow_user_num` | Integer | 关注的用户数 |
| `fans_user_num` | Integer | 粉丝数 |
| `friend_user_num` | Integer | 好友数 |
| `register_days` | Integer | 账号注册天数 |
| `onehot_feat0` - `onehot_feat17` | Varies | 经过独热编码处理的用户分类特征，具体含义未知 |

### 3.3. 视频基础特征数据
- `video_features_basic_pure.csv`: 视频的基础元数据。

**主要字段说明：**

| 字段名 | 数据类型 | 说明 |
| :--- | :--- | :--- |
| `video_id` | Integer | 视频唯一标识 |
| `author_id` | Integer | 视频创作者的ID (可与 `user_id` 关联) |
| `video_type` | String | 视频类型 (如: NORMAL) |
| `upload_dt` | String | 上传日期 (格式: YYYY-MM-DD) |
| `video_duration` | Float | 视频时长（毫秒） |
| `server_width` | Float | 视频宽度 |
| `server_height` | Float | 视频高度 |
| `music_id` | BigInt | 背景音乐ID |
| `tag` | String | 视频标签ID，可能包含多个，以逗号分隔 |

### 3.4. 视频统计特征数据
- `video_features_statistic_pure.csv`: 基于历史行为计算出的视频统计特征。

**主要字段说明：**
该文件包含了大量的统计指标，是视频热度的直接体现。

| 字段名 | 数据类型 | 说明 |
| :--- | :--- | :--- |
| `video_id` | Integer | 视频唯一标识 |
| `show_cnt` | Float | 累计曝光次数 |
| `play_cnt` | Float | 累计播放次数 |
| `play_user_num` | Float | 累计播放用户数（去重） |
| `complete_play_cnt` | Float | 累计完播次数 |
| `like_cnt` | Float | 累计点赞数 |
| `comment_cnt` | Float | 累计评论数 |
| `share_cnt` | Float | 累计分享数 |
| `collect_cnt` | Float | 累计收藏数 |

## 4. 总结与应用建议

- **数据完整性**：该数据集非常完整，为构建推荐模型（如CTR点击率预测、LTV时长预测等）提供了坚实的基础。
- **特征工程**：
  - **用户侧**：可以基于日志数据计算用户近期的行为频率、活跃天数、观看时长偏好等动态特征。
  - **视频侧**：`video_features_statistic_pure.csv` 已经提供了丰富的统计特征。可以进一步计算如“点赞率”（`like_cnt / play_cnt`）、“完播率”（`complete_play_cnt / play_cnt`）等比率特征。
  - **交叉特征**：可以构建用户与视频标签、视频作者之间的交叉特征，以提升模型效果。
- **模型训练**：
  - 可以将三个日志文件合并，创建一个包含所有用户行为的大表。
  - 将日志表与用户特征表、视频特征表通过 `user_id` 和 `video_id` 进行左连接（Left Join），形成一个宽表。
  - 使用 `is_click` 或 `long_view` 作为目标变量（label），训练一个分类模型（如XGBoost, LightGBM, DeepFM等）。
  - `log_random_...` 文件的数据对于评估和消除位置偏见等模型偏差非常有价值。